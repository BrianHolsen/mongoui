<import: src="edit">


<Doctype:>
  <!DOCTYPE html>
<Root:>
<Charset:>
  <meta charset="utf-8">

<Title:>
    mongoui

<Head:>
  <!-- <link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" media="screen" charset="utf-8"/> -->
  <!-- <link rel="stylesheet" href="css/bootstrap-responsive.min.css" type="text/css" media="screen" charset="utf-8"/> -->
<Header:>
  <!-- This is a component defined in the /ui directory -->
  <ui:connectionAlert>

<Body:>
  <div class="container-fluid">
<div class="navbar">
    <div class="navbar-inner">
      <div class="container" style="width: auto;">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
        <a class="brand" href="/">mongoui</a>
        <div class="nav-collapse">
          <ul class="nav">
            <li class="active"><a href="/main">Host: Localhost</a></li>            
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Databases: {dbName}&nbsp;<b class="caret"></b>
              </a>
              <ul class="dropdown-menu" name="dbs" >
                {#each dbs.databases}
                  <li><a href="/host/localhost/dbs/{name}" data-value="{name}"> {name} â€” {sizeOnDisk}</a></li>
                {/each}
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Collections: {collectionName}&nbsp;<b class="caret"></b>
              </a>
              <ul class="dropdown-menu" name="dbs">
                {#each collections}
                  <li ><a href="/host/localhost/dbs/{dbName}/collections/{.name}" data-value="{{.name}}"> {.name}</a></li>
                {/each}
              </ul>
            </li>

          </ul>

          <ul class="nav pull-right">
            <li><a href="https://github.com/azat-co/mongoui">GitHub</a></li>
            <li><a href="http://twitter.com/azat_co">Contact</a></li>
          </ul>
        </div><!-- /.nav-collapse -->
      </div>
    </div><!-- /navbar-inner -->
  </div>
  <div class="row-fluid">
    <h3>
      <small>{dbName}</small>{#if collectionName}.{collectionName}
      <a href="/api/dbs/{{dbName}}/collections/{collectionName}.json" target="_blank" class="raw ">
        <span class="badge badge-info">(raw)
        </span>
      </a>
<!--       <a href="/dbs/{{dbName}}/collections/{collecionName}" target="_blank" class="raw">
        <span class="badge badge-warning">
          (edit)
        </span>
      </a>    -->
      {/if}
    </h3>
  </div>
  <div class="row-fluid">
    <form class="form-horizontal well">
      <legend>Filter</legend>

<!--         <select class="input-small">
          <option value="find">find</option>
          <option value="remove">remove</option>
        </select>
 -->
      <div class="control-group">
        <label class="control-label" for="query-key">Key: Value</label>
        <div class="controls key-value-row">
          "<input class="text input-xlarge query-key" placeholder="_id"/>":&nbsp;
          "<input class="text input-xlarge query-value" placeholder="5061da1e63e785cc44017668"/>"          
        </div>
      </div>
<!--       <div class="control-group">
        <label class="control-label" for="query-key">Key: Value</label>
        <div class="controls">
          "<input class="text" class="input-xlarge" id="query-key" placeholder="_id"/>":            "<input class="text" class="input-xlarge" id="query-value" placeholder="5061da1e63e785cc44017668"/>"
        </div>
      </div>
 -->
      <div class="form-actions">
        <button type="button" class="btn btn-primary" x-bind="click: applyFilter">Apply</button>&nbsp;&nbsp;
        <button type="button" class="btn btn-success" x-bind="click: addKeyValueForm">One more key-value pair</button>
      </div>      
    </form>
  </div>
    <div class="row-fluid">
<!--       <div class="span4">        
        <span>
          List of databases:
        </span>


        <div>Database URL:
          <input value="{dbName}" placeholder="//localhost:27017/"/>
        </div>

        <div>Collections of <span><strong>{dbName}</strong></span>:
          {{#each collections}}
          <div>
            <a class="collection" x-bind="click: changeCollection" data-value="{{.name}}">
              {{.name}}
            </a>&nbsp;
         
          </div>
          {{/}}
        </div>


        Raw collections:
        <pre><code>{{collections}}</code></pre>

      </div> -->
      {#if collectionName}
      <div class="span12">
        <div class="collection-box">
          <pre><code>{collectionBox}</code></pre>
        </div>

      </div>
    </div>
    {else}
    Please select a collection
    {/if}
  </div>



<Footer:>

<Scripts:>
  <script src="/js/jquery-2.0.0.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/bootstrap.js" type="text/javascript" charset="utf-8"></script>
